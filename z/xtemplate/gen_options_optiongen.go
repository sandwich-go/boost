// Code generated by optiongen. DO NOT EDIT.
// optiongen: github.com/timestee/optiongen

package xtemplate

// Options should use NewOptions to initialize it
type Options struct {
	// annotation@Name(comment="指定模板的名称")
	Name string
	// annotation@FileName(comment="文件名称，若不为空，则会生成对应的文件，若文件为 .go 文件，则会格式化")
	FileName string
	// annotation@Filers(comment="在生成指定文件或返回模板填充后数据前，指定过滤器，可以对数据进行二次加工")
	Filers []Filter
}

// NewOptions new Options
func NewOptions(opts ...Option) *Options {
	cc := newDefaultOptions()
	for _, opt := range opts {
		opt(cc)
	}
	if watchDogOptions != nil {
		watchDogOptions(cc)
	}
	return cc
}

// ApplyOption apply multiple new option
func (cc *Options) ApplyOption(opts ...Option) {
	for _, opt := range opts {
		opt(cc)
	}
}

// Option option func
type Option func(cc *Options)

// WithOptionName 指定模板的名称
func WithOptionName(v string) Option {
	return func(cc *Options) {
		cc.Name = v
	}
}

// WithOptionFileName 文件名称，若不为空，则会生成对应的文件，若文件为 .go 文件，则会格式化
func WithOptionFileName(v string) Option {
	return func(cc *Options) {
		cc.FileName = v
	}
}

// WithOptionFilers 在生成指定文件或返回模板填充后数据前，指定过滤器，可以对数据进行二次加工
func WithOptionFilers(v ...Filter) Option {
	return func(cc *Options) {
		cc.Filers = v
	}
}

// InstallOptionsWatchDog the installed func will called when NewOptions  called
func InstallOptionsWatchDog(dog func(cc *Options)) { watchDogOptions = dog }

// watchDogOptions global watch dog
var watchDogOptions func(cc *Options)

// newDefaultOptions new default Options
func newDefaultOptions() *Options {
	cc := &Options{}

	for _, opt := range [...]Option{
		WithOptionName("xtemplate"),
		WithOptionFileName(""),
		WithOptionFilers(nil...),
	} {
		opt(cc)
	}

	return cc
}

// all getter func
func (cc *Options) GetName() string     { return cc.Name }
func (cc *Options) GetFileName() string { return cc.FileName }
func (cc *Options) GetFilers() []Filter { return cc.Filers }

// OptionsVisitor visitor interface for Options
type OptionsVisitor interface {
	GetName() string
	GetFileName() string
	GetFilers() []Filter
}

// OptionsInterface visitor + ApplyOption interface for Options
type OptionsInterface interface {
	OptionsVisitor
	ApplyOption(...Option)
}
